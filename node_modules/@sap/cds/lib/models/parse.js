/** Both, a namespace and a shortcut for cds.parse.cdl */
const parse = module.exports = Object.assign ((...args) => parse.cdl(...args), {

  /** @returns {object} the parsed model as a CSN object */
  cdl: (src,o) => (parse.cdl = require('./cdsv').parse) (src,o),

  /** @returns {object} the parsed query as a CQN object */
  cql: (src,o) => (parse.cql = _require('../runtime/cql-parser').parse) (src,o),
  /*
  * Change to following once it supports SQL and simplified CQL
  * cql: (...args) => (parse.cql = _require('./cdsv').parseToCqn) (...args),
  */

  /** @returns {object} the parsed expression as a CQN expr object */
  expr: (src) => parse.cql (src, {startRule:'XPR'}),
  /*
   * Change to following once it supports inline as a filter
   * expr: (...args) => (parse.expr = _require('./cdsv').parseToExpr) (...args),
   */

  xpr: x => parse.expr(x).xpr,
  ref: x => parse.expr(x).ref,

})
const _require = require // workaround for vscode IntelliSense
