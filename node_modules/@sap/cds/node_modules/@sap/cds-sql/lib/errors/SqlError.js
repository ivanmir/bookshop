/**
 * Thrown in case SQL error occurs.
 * @extends {external:Error}
 * @alias module:errors.SqlError
 */
class SqlError extends Error {
  /**
   * Create a SqlError.
   */
  constructor (rootCauseError, sql, values) {
    super('Unexpected SQL Error occurred')
    this.name = this.constructor.name
    this.rootCause = rootCauseError
    if (sql) {
      if (values && values.length) {
        sql += `: ${values.join(', ')}`
      }
      this.rootCause.message += `: \`${sql}\``
    }
    Error.captureStackTrace(this, this.constructor)
  }
}

module.exports = SqlError
